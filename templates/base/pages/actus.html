<!-- filepath: c:\Users\Kasprod\Documents\Mes projets\python\stage-by-kasanji\projetGroupFour\templates\base\pages\actus.html -->
{% extends "base/base.html" %}
{% load static %}
{% block content %}

<section class="py-5" style="margin-top: 56px;">  
  <div class="container px-4 px-lg-5">
    <div class="d-flex flex-column align-items-center text-center mb-5">
        <img src="{% static 'assets/img/Unikin.svg.png' %}" alt="Actus Header" class="img-fluid rounded-3 mb-4" style="max-height: 150px; object-fit: cover;">
        <h1 class="fw-bold mb-4 text-dark" style="font-size:2.5rem;">Actualités du Département de Chimie</h1>
    </div>
    
    <!-- filepath: base/pages/actus.html -->
<div class="row g-4">
    {% for actu in actus_list %}
      <div class="col-lg-6 col-xl-3">
        <div class="card border-0 shadow h-100 bg-white text-dark actus-card" style="cursor:pointer;" data-bs-toggle="modal" data-bs-target="#modalActu{{ actu.id }}">
          <img src="{{ actu.image.url }}" class="card-img-top" alt="{{ actu.titre }}" style="object-fit:cover; height:180px;">
          <div class="card-body d-flex flex-column justify-content-between">
            <div>
              <h5 class="card-title fw-bold">{{ actu.titre }}</h5>
              <p class="card-text small mb-2">{{ actu.description|truncatechars:80 }}</p>
              <span class="badge bg-{{ actu.badge_color }} mb-2">{{ actu.badge }}</span>
            </div>
            <div class="text-muted small">Publié le {{ actu.date_pub|date:"d F Y" }}</div>
          </div>
        </div>
      </div>
  
      <!-- Modal pour chaque actu -->
      <div class="modal fade" id="modalActu{{ actu.id }}" tabindex="-1" aria-labelledby="modalActuLabel{{ actu.id }}" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
          <div class="modal-content bg-white text-dark rounded-4 shadow-lg">
            <div class="modal-header border-0">
              <h5 class="modal-title fw-bold" id="modalActuLabel{{ actu.id }}">{{ actu.titre }}</h5>
              <button type="button" class="btn-close btn-close-dark" data-bs-dismiss="modal" aria-label="Fermer"></button>
            </div>
            <div class="modal-body d-flex flex-column align-items-center p-4">
              <img src="{{ actu.image.url }}" class="img-fluid rounded-3 shadow-sm mb-3" alt="{{ actu.titre }}" style="max-width:320px; max-height:220px; object-fit:cover;">
              <p class="lead text-dark text-center mb-0" style="font-size:1.1rem;">
                {{ actu.description }}
              </p>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
   
  </div>
</section>

{% endblock content %}

